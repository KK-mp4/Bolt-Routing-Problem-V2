import{_ as F}from"./BbR8EWZf.js";import{f as N,h as A,o as y,c as U,i as b,q as G,a as e,j as H,F as P,s as J,b as a,w as d,d as u,x as V,y as K,r as R,g as q,u as x,l as L,t as X,n as Z,m as Q}from"./B6KF3lkT.js";import E from"./BK8HWIgg.js";import{_ as j}from"./BgZNGglI.js";import{u as W}from"./FMAD5iQn.js";import{u as h}from"./c76gRGXA.js";import"./CvPl5tTm.js";const Y={class:"relative inline-flex cursor-pointer mb-3"},ee=e("div",{class:"w-11 h-6 rounded-full peer bg-secondary peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-background after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent"},null,-1),te={class:"ml-3 text-sm font-medium"},oe=N({__name:"Toggle",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(S){const r=A(S,"modelValue");return(v,_)=>(y(),U("label",Y,[b(e("input",{"onUpdate:modelValue":_[0]||(_[0]=m=>r.value=m),type:"checkbox",class:"sr-only peer"},null,512),[[G,r.value]]),ee,e("span",te,[H(v.$slots,"default")])]))}}),se={class:"w-full h-screen overflow-y-auto"},ne={class:"w-full text-sm text-left rtl:text-right"},le=e("thead",{class:"text-xs bg-[#49291E]"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," STATION NAME "),e("th",{scope:"col",class:"px-6 py-3"}," DESCRIPTION "),e("th",{scope:"col",class:"px-6 py-3"}," ASSIGNED COLOUR "),e("th",{scope:"col",class:"px-6 py-3"}," X "),e("th",{scope:"col",class:"px-6 py-3"}," Z "),e("th",{scope:"col",class:""})])],-1),ae={class:"px-6 py-4 font-medium whitespace-nowrap"},re=["onUpdate:modelValue"],ce={class:"px-6 py-4"},ie=["onUpdate:modelValue"],de=["onUpdate:modelValue"],ue={class:"px-6 py-4"},pe=["onUpdate:modelValue"],me={class:"px-6 py-4"},_e=["onUpdate:modelValue"],fe={class:"px-6 py-4"},xe=["onClick"],he={class:"px-5 py-2"},be=N({__name:"Table",props:{stations:{}},setup(S){const r=S,v=()=>{r.stations.push({name:"New Station",description:"",colour:"#f2a788",x:0,z:0})},_=m=>{r.stations.splice(m,1)};return(m,$)=>{const w=E,f=j;return y(),U("div",se,[e("table",ne,[le,e("tbody",null,[(y(!0),U(P,null,J(r.stations,(l,g)=>(y(),U("tr",{key:g,class:"even:bg-[#49291E] odd:bg-background text-accent"},[e("td",ae,[b(e("input",{"onUpdate:modelValue":c=>l.name=c,class:"w-full",style:{"background-color":"transparent"}},null,8,re),[[V,l.name]])]),e("td",ce,[b(e("input",{"onUpdate:modelValue":c=>l.description=c,class:"w-full",style:{"background-color":"transparent"}},null,8,ie),[[V,l.description]])]),e("td",{class:"px-6 py-4",style:K({color:l.colour})},[b(e("input",{"onUpdate:modelValue":c=>l.colour=c,class:"w-full",style:{"background-color":"transparent"}},null,8,de),[[V,l.colour]])],4),e("td",ue,[b(e("input",{"onUpdate:modelValue":c=>l.x=c,class:"w-full",style:{"background-color":"transparent"}},null,8,pe),[[V,l.x,void 0,{number:!0}]])]),e("td",me,[b(e("input",{"onUpdate:modelValue":c=>l.z=c,class:"w-full",style:{"background-color":"transparent"}},null,8,_e),[[V,l.z,void 0,{number:!0}]])]),e("td",fe,[e("button",{onClick:c=>_(g)},[a(w,{class:"my-auto",name:"octicon:trashcan",size:"14px"})],8,xe)])]))),128))])]),e("div",he,[a(f,{onClick:v,class:"w-full"},{default:d(()=>[u("Add")]),_:1})])])}}}),ye={class:"flex"},ve={class:"min-w-[520px] w-[520px] flex flex-col"},we={class:"p-5 my-auto flex flex-col"},ge=e("a",{class:"underline cursor-pointer text-xl text-primary mb-7 font-extrabold",href:"https://github.com/KK-mp4/Bolt-Routing-Problem-V2?tab=readme-ov-file#piston-bolt-network-builder-for-minecraft-v2-wip",target:"_blank",rel:"noopener noreferrer",title:"GitHub"}," User guide available on GitHub: ",-1),ke=e("p",{class:"text-xs text-primary"},"Displays station labels next to graph vertices",-1),Ce=e("p",{class:"text-xs text-primary"},"Colours graph randomly after generation",-1),Ve=e("p",{class:"text-xs text-primary"},"Slows processing time, but unlocks distance matrix heatmap",-1),Ue=e("div",{class:"w-full h-0 border border-primary mb-7"},null,-1),Se=e("div",{class:"w-full h-0 border border-primary mb-7"},null,-1),$e={class:"fixed bottom-0 left-0 text-sm select-none"},Le={class:"flex-1 h-screen"},Ie=N({__name:"settings",setup(S){W({title:"Settings"});const r=h("piston-bolt-network",{}),v=h("distance-matrix",{}),_=h("scatter-plot",{}),m=h("show-labels",!1),$=h("colour-graph",!1),w=h("calculate-stats",!0),f=R("");let l=0;const g=R(null);q(async()=>{if(!r.value.stations){const o=await(await fetch("/data/network.json")).json();r.value=o}});function c(){f.value="Changes saved.";for(let s=0;s<l;++s)f.value+=".";l++,l>=30&&(f.value+="is this funny to you?")}const B=()=>{var s;(s=g.value)==null||s.click()};function T(s){const n=s.target.files[0];if(n){const t=new FileReader;(i=>new Promise((C,p)=>{t.onload=()=>{t.result?C(t.result.toString()):p(new Error("Failed to read file"))},t.onerror=p,t.readAsText(i)}))(n).then(i=>{try{r.value=JSON.parse(i)}catch(C){console.error("Error parsing JSON:",C)}}).catch(i=>{console.error("Error reading file:",i)})}}function O(){const s=JSON.stringify(r.value,null,4),o=new Blob([s],{type:"application/json"}),n=window.URL.createObjectURL(o),t=document.createElement("a");t.href=n,t.download="network.json",document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(n)}function I(){const s=z(v.value),o=new Blob([s],{type:"text/csv"}),n=window.URL.createObjectURL(o),t=document.createElement("a");t.href=n,t.download="distance_matrix.csv",document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(n)}function z(s){const o=s.map(t=>t.station_name);let n=';"'+o.join('";"')+`"
`;for(let t=0;t<s.length;t++)n+=`"${o[t]}";"${s[t].values.join('";"')}"
`;return n}function D(){const s=M(_.value),o=new Blob([s],{type:"text/csv"}),n=window.URL.createObjectURL(o),t=document.createElement("a");t.href=n,t.download="scatter-plot.csv",document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(n)}function M(s){const o=`"Graph";"Total tunnel length, blocks";"Average travel time, s"
`;let n="";for(const t of s)n+=`"${t.graph_name}";${t.length};${t.time}
`;return o+n}return(s,o)=>{const n=F,t=oe,k=E,i=j,C=be;return y(),U("div",ye,[e("div",ve,[a(n,{to:"/",title:"Go back to main page",class:"fixed top-3 left-3 text-xs"},{default:d(()=>[u("← Back")]),_:1}),e("div",we,[ge,a(t,{modelValue:x(m),"onUpdate:modelValue":o[0]||(o[0]=p=>L(m)?m.value=p:null),onChange:c},{default:d(()=>[u("Show station labels"),ke]),_:1},8,["modelValue"]),a(t,{modelValue:x($),"onUpdate:modelValue":o[1]||(o[1]=p=>L($)?$.value=p:null),onChange:c},{default:d(()=>[u("Colour graph automatically"),Ce]),_:1},8,["modelValue"]),a(t,{modelValue:x(w),"onUpdate:modelValue":o[2]||(o[2]=p=>L(w)?w.value=p:null),onChange:c},{default:d(()=>[u("Calculate average travel time"),Ve]),_:1},8,["modelValue"]),Ue,a(i,{onClick:B},{default:d(()=>[u("Import network"),a(k,{class:"ml-3 my-auto",name:"bi:filetype-json",size:"16px"})]),_:1}),e("input",{type:"file",ref_key:"fileInput",ref:g,style:{display:"none"},onChange:T},null,544),a(i,{onClick:o[3]||(o[3]=p=>r.value={stations:[],bolts:[]})},{default:d(()=>[u("Clear network")]),_:1}),Se,a(i,{onClick:O},{default:d(()=>[u("Export network"),a(k,{class:"ml-3 my-auto",name:"bi:filetype-json",size:"16px"})]),_:1}),a(i,{onClick:I},{default:d(()=>[u("Export distance matrix"),a(k,{class:"ml-3 my-auto",name:"bi:filetype-csv",size:"16px"})]),_:1}),a(i,{onClick:D},{default:d(()=>[u("Export scatter plot"),a(k,{class:"ml-3 my-auto",name:"bi:filetype-csv",size:"16px"})]),_:1})]),e("p",$e,X(x(f)),1)]),e("div",Le,[x(r).stations?(y(),Z(C,{key:0,stations:x(r).stations},null,8,["stations"])):Q("",!0)])])}}});export{Ie as default};
