import{_ as F}from"./CCzyT3qq.js";import{f as N,i as P,o as g,c as S,j as h,q as A,a as e,k as G,F as H,s as J,b as a,w as d,d as u,x as V,y as K,r as T,g as q,u as x,l as B,t as X,n as Z,m as Q}from"./WJdXgi7g.js";import L from"./B4DoMWIf.js";import{_ as R}from"./B8oFkF-7.js";import{u as W,a as b}from"./CN7uykcY.js";import"./CvPl5tTm.js";import"./B7B1b3vd.js";const Y={class:"relative inline-flex cursor-pointer mb-3"},ee=e("div",{class:"w-11 h-6 rounded-full peer bg-secondary peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-background after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent"},null,-1),te={class:"ml-3 text-sm font-medium"},oe=N({__name:"Toggle",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(U){const r=P(U,"modelValue");return(w,f)=>(g(),S("label",Y,[h(e("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>r.value=m),type:"checkbox",class:"sr-only peer"},null,512),[[A,r.value]]),ee,e("span",te,[G(w.$slots,"default")])]))}}),ne={class:"w-full h-screen overflow-y-auto"},le={class:"w-full text-sm text-left rtl:text-right"},se=e("thead",{class:"text-xs bg-[#49291E]"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," STATION NAME "),e("th",{scope:"col",class:"px-6 py-3"}," DESCRIPTION "),e("th",{scope:"col",class:"px-6 py-3"}," ASSIGNED COLOUR "),e("th",{scope:"col",class:"px-6 py-3"}," X "),e("th",{scope:"col",class:"px-6 py-3"}," Z "),e("th",{scope:"col",class:""})])],-1),ae={class:"px-6 py-4 font-medium whitespace-nowrap"},re=["onUpdate:modelValue"],ce={class:"px-6 py-4"},ie=["onUpdate:modelValue"],de=["onUpdate:modelValue"],ue={class:"px-6 py-4"},pe=["onUpdate:modelValue"],me={class:"px-6 py-4"},fe=["onUpdate:modelValue"],_e={class:"px-6 py-4"},xe=["onClick"],be={class:"px-5 py-2"},he=N({__name:"Table",props:{stations:{}},setup(U){const r=U,w=()=>{r.stations.push({name:"New Station",description:"",colour:"#f2a788",x:0,z:0})},f=m=>{r.stations.splice(m,1)};return(m,$)=>{const v=L,_=R;return g(),S("div",ne,[e("table",le,[se,e("tbody",null,[(g(!0),S(H,null,J(r.stations,(s,y)=>(g(),S("tr",{key:y,class:"even:bg-[#49291E] odd:bg-background text-accent"},[e("td",ae,[h(e("input",{"aria-label":"Station name","onUpdate:modelValue":c=>s.name=c,class:"w-full",style:{"background-color":"transparent"}},null,8,re),[[V,s.name]])]),e("td",ce,[h(e("input",{"aria-label":"Station description","onUpdate:modelValue":c=>s.description=c,class:"w-full",style:{"background-color":"transparent"}},null,8,ie),[[V,s.description]])]),e("td",{class:"px-6 py-4",style:K({color:s.colour})},[h(e("input",{"aria-label":"Station colour","onUpdate:modelValue":c=>s.colour=c,class:"w-full",style:{"background-color":"transparent"}},null,8,de),[[V,s.colour]])],4),e("td",ue,[h(e("input",{"aria-label":"Station x coordinate","onUpdate:modelValue":c=>s.x=c,class:"w-full",style:{"background-color":"transparent"}},null,8,pe),[[V,s.x,void 0,{number:!0}]])]),e("td",me,[h(e("input",{"aria-label":"station z coordinate","onUpdate:modelValue":c=>s.z=c,class:"w-full",style:{"background-color":"transparent"}},null,8,fe),[[V,s.z,void 0,{number:!0}]])]),e("td",_e,[e("button",{"aria-label":"Delete station",onClick:c=>f(y)},[a(v,{class:"my-auto",name:"octicon:trashcan",size:"14px"})],8,xe)])]))),128))])]),e("div",be,[a(_,{class:"w-full",onClick:w},{default:d(()=>[u("Add")]),_:1})])])}}}),ge={class:"flex flex-col xl:flex-row"},we={class:"min-w-[520px] w-[520px] flex flex-col mt-3 mx-auto"},ve={class:"p-5 my-auto flex flex-col"},ye=e("a",{class:"underline cursor-pointer text-xl text-primary mb-7 font-extrabold",href:"https://github.com/KK-mp4/Bolt-Routing-Problem-V2?tab=readme-ov-file#piston-bolt-network-builder-for-minecraft-v2-wip",target:"_blank",rel:"noopener noreferrer",title:"GitHub"}," User guide available on GitHub: ",-1),ke=e("p",{class:"text-xs text-primary"},"Displays station labels next to graph vertices",-1),Ce=e("p",{class:"text-xs text-primary"},"Colours graph randomly after generation",-1),Ve=e("p",{class:"text-xs text-primary"},"Slows processing time, but unlocks distance matrix heatmap",-1),Se=e("div",{class:"w-full h-0 border border-primary mb-7"},null,-1),Ue=e("div",{class:"w-full h-0 border border-primary mb-7"},null,-1),$e={class:"fixed bottom-0 left-0 text-sm select-none"},Be={class:"flex-1 h-screen"},Me=N({__name:"settings",setup(U){W({title:"Settings - Piston Bolt Network Builder",description:"Tool for generating and editing piston bolt networks for Minecraft",ogTitle:"Piston Bolt Network Builder",ogDescription:"Tool for generating and editing piston bolt networks for Minecraft",ogImage:"/ogImage.webp",ogUrl:"https://bolt-routing-problem-v2.vercel.app/settings",twitterTitle:"Piston Bolt Network Builder",twitterDescription:"Tool for generating and editing piston bolt networks for Minecraft",twitterImage:"/ogImage.webp",twitterCard:"summary"});const r=b("piston-bolt-network",{}),w=b("distance-matrix",{}),f=b("scatter-plot",{}),m=b("show-labels",!1),$=b("colour-graph",!1),v=b("calculate-stats",!0),_=T("");let s=0;const y=T(null);q(async()=>{if(!r.value.stations){const o=await(await fetch("/data/network.json")).json();r.value=o}});function c(){_.value="Changes saved.";for(let n=0;n<s;++n)_.value+=".";s++,s>=30&&(_.value+="is this funny to you?")}const E=()=>{var n;(n=y.value)==null||n.click()};function j(n){const l=n.target.files[0];if(l){const t=new FileReader;(i=>new Promise((C,p)=>{t.onload=()=>{t.result?C(t.result.toString()):p(new Error("Failed to read file"))},t.onerror=p,t.readAsText(i)}))(l).then(i=>{try{r.value=JSON.parse(i)}catch(C){console.error("Error parsing JSON:",C)}}).catch(i=>{console.error("Error reading file:",i)})}}function I(){const n=JSON.stringify(r.value,null,4),o=new Blob([n],{type:"application/json"}),l=window.URL.createObjectURL(o),t=document.createElement("a");t.href=l,t.download="network.json",document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(l)}function M(){const n=O(w.value),o=new Blob([n],{type:"text/csv"}),l=window.URL.createObjectURL(o),t=document.createElement("a");t.href=l,t.download="distance_matrix.csv",document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(l)}function O(n){const o=n.map(t=>t.station_name);let l=';"'+o.join('";"')+`"
`;for(let t=0;t<n.length;t++)l+=`"${o[t]}";"${n[t].values.join('";"')}"
`;return l}function D(){const n=z(f.value),o=new Blob([n],{type:"text/csv"}),l=window.URL.createObjectURL(o),t=document.createElement("a");t.href=l,t.download="scatter-plot.csv",document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(l)}function z(n){const o=`"Graph";"Total tunnel length, blocks";"Average travel time, s"
`;let l="";for(const t of n)l+=`"${t.graph_name}";${t.length};${t.time}
`;return o+l}return(n,o)=>{const l=F,t=oe,k=L,i=R,C=he;return g(),S("div",ge,[e("div",we,[a(l,{to:"/",title:"Go back to main page",class:"fixed top-3 left-3 text-xs"},{default:d(()=>[u("â† Back")]),_:1}),e("div",ve,[ye,a(t,{modelValue:x(m),"onUpdate:modelValue":o[0]||(o[0]=p=>B(m)?m.value=p:null),onChange:c},{default:d(()=>[u("Show station labels"),ke]),_:1},8,["modelValue"]),a(t,{modelValue:x($),"onUpdate:modelValue":o[1]||(o[1]=p=>B($)?$.value=p:null),onChange:c},{default:d(()=>[u("Colour graph automatically"),Ce]),_:1},8,["modelValue"]),a(t,{modelValue:x(v),"onUpdate:modelValue":o[2]||(o[2]=p=>B(v)?v.value=p:null),onChange:c},{default:d(()=>[u("Calculate average travel time"),Ve]),_:1},8,["modelValue"]),Se,a(i,{onClick:E},{default:d(()=>[u("Import network"),a(k,{class:"ml-3 my-auto",name:"bi:filetype-json",size:"16px"})]),_:1}),e("input",{ref_key:"fileInput",ref:y,type:"file",style:{display:"none"},onChange:j},null,544),a(i,{onClick:o[3]||(o[3]=p=>r.value={stations:[],bolts:[]})},{default:d(()=>[u("Clear network")]),_:1}),Ue,a(i,{onClick:I},{default:d(()=>[u("Export network"),a(k,{class:"ml-3 my-auto",name:"bi:filetype-json",size:"16px"})]),_:1}),a(i,{onClick:M},{default:d(()=>[u("Export distance matrix"),a(k,{class:"ml-3 my-auto",name:"bi:filetype-csv",size:"16px"})]),_:1}),a(i,{onClick:D},{default:d(()=>[u("Export scatter plot"),a(k,{class:"ml-3 my-auto",name:"bi:filetype-csv",size:"16px"})]),_:1})]),e("p",$e,X(x(_)),1)]),e("div",Be,[x(r).stations?(g(),Z(C,{key:0,stations:x(r).stations},null,8,["stations"])):Q("",!0)])])}}});export{Me as default};
