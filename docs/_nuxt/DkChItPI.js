import{_ as A}from"./n85pFZBW.js";import{_ as E}from"./BmezHaBm.js";import{u as L,a as j}from"./B7MTRyG3.js";import{i as C,s as D,a as F,b as O,l as H,m as _}from"./B7PevS6S.js";import{f as P,r as z,g as R,h as V,c as U,b,w as k,a as N,t as G,u as W,F as q,o as J,d as M}from"./DWkbExCa.js";import"./ScA6IBOd.js";class B extends Map{constructor(e,a=X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),e!=null)for(const[n,o]of e)this.set(n,o)}get(e){return super.get(I(this,e))}has(e){return super.has(I(this,e))}set(e,a){return super.set(K(this,e),a)}delete(e){return super.delete(Q(this,e))}}function I({_intern:t,_key:e},a){const n=e(a);return t.has(n)?t.get(n):a}function K({_intern:t,_key:e},a){const n=e(a);return t.has(n)?t.get(n):(t.set(n,a),a)}function Q({_intern:t,_key:e},a){const n=e(a);return t.has(n)&&(a=t.get(n),t.delete(n)),a}function X(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Y(t,e,a){t=+t,e=+e,a=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+a;for(var n=-1,o=Math.max(0,Math.ceil((e-t)/a))|0,i=new Array(o);++n<o;)i[n]=t+n*a;return i}const $=Symbol("implicit");function S(){var t=new B,e=[],a=[],n=$;function o(i){let r=t.get(i);if(r===void 0){if(n!==$)return n;t.set(i,r=e.push(i)-1)}return a[r%a.length]}return o.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new B;for(const r of i)t.has(r)||t.set(r,e.push(r)-1);return o},o.range=function(i){return arguments.length?(a=Array.from(i),o):a.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return S(e,a).unknown(n)},C.apply(o,arguments),o}function y(){var t=S().unknown(void 0),e=t.domain,a=t.range,n=0,o=1,i,r,u=!1,d=0,g=0,m=.5;delete t.unknown;function f(){var s=e().length,h=o<n,p=h?o:n,w=h?n:o;i=(w-p)/Math.max(1,s-d+g*2),u&&(i=Math.floor(i)),p+=(w-p-i*(s-d))*m,r=i*(1-d),u&&(p=Math.round(p),r=Math.round(r));var v=Y(s).map(function(l){return p+i*l});return a(h?v.reverse():v)}return t.domain=function(s){return arguments.length?(e(s),f()):e()},t.range=function(s){return arguments.length?([n,o]=s,n=+n,o=+o,f()):[n,o]},t.rangeRound=function(s){return[n,o]=s,n=+n,o=+o,u=!0,f()},t.bandwidth=function(){return r},t.step=function(){return i},t.round=function(s){return arguments.length?(u=!!s,f()):u},t.padding=function(s){return arguments.length?(d=Math.min(1,g=+s),f()):d},t.paddingInner=function(s){return arguments.length?(d=Math.min(1,s),f()):d},t.paddingOuter=function(s){return arguments.length?(g=+s,f()):g},t.align=function(s){return arguments.length?(m=Math.max(0,Math.min(1,s)),f()):m},t.copy=function(){return y(e(),[n,o]).round(u).paddingInner(d).paddingOuter(g).align(m)},C.apply(f(),arguments)}const Z={class:"fixed bottom-0 left-0 text-sm select-none"},tt=N("div",{id:"distance-matrix",class:"p-0 h-full w-full"},null,-1),st=P({__name:"heatmap",setup(t){L({title:"Distance matrix heatmap - Piston Bolt Network Builder",description:"Tool for generating and editing piston bolt networks for Minecraft",ogTitle:"Piston Bolt Network Builder",ogDescription:"Tool for generating and editing piston bolt networks for Minecraft",ogImage:"/ogImage.webp",ogUrl:"https://bolt-routing-problem-v2.vercel.app/heatmap",twitterTitle:"Piston Bolt Network Builder",twitterDescription:"Tool for generating and editing piston bolt networks for Minecraft",twitterImage:"/ogImage.webp",twitterCard:"summary"});const e=j("distance-matrix",{}),a=z("");R(()=>{window.addEventListener("resize",n),n()});function n(){const i=document.getElementById("distance-matrix");i!==null&&(i.innerHTML="");const r={top:30,right:30,bottom:150,left:200},u=window.innerWidth-r.left-r.right,d=window.innerHeight-r.top-r.bottom,g=D("#distance-matrix").append("svg").attr("width",u+r.left+r.right).attr("height",d+r.top+r.bottom).append("g").attr("transform",`translate(${r.left}, ${r.top})`),m=e.value.map(l=>l.station_name),f=y().range([0,u]).domain(m).padding(.01);g.append("g").attr("transform",`translate(0, ${d})`).call(F(f)).selectAll("text").attr("transform","rotate(-45)").attr("x",-5).attr("y",5).style("font-family","Fira Code").style("font-size","10px").style("fill","#fbdfd8").style("text-anchor","end");const s=y().range([d,0]).domain(m).padding(.01);g.append("g").call(O(s)).selectAll("text").attr("x",-8).attr("y",-8).style("font-family","Fira Code").style("fill","#fbdfd8").attr("dy","10px");const h=H().range(["#F4EDE1","#84BBA7"]).domain([0,_(e.value,l=>_(l.values))||1]),p=function(l,c){const x=c.value!==null?c.value+" blocks":"does not exist";a.value=`Shortest path from ${m[c.rowIndex]} to ${m[c.colIndex]} - ${x}`},w=function(l,c){const x=c.value!==null?c.value+" blocks":"does not exist";a.value=`Shortest path from ${m[c.rowIndex]} to ${m[c.colIndex]} - ${x}`},v=function(l){a.value=""};g.selectAll().data(e.value).enter().append("g").selectAll("rect").data((l,c)=>l.values.map((x,T)=>({value:x,rowIndex:c,colIndex:T}))).enter().append("rect").attr("x",l=>String(f(m[l.colIndex]))).attr("y",l=>String(s(m[l.rowIndex]))).attr("width",f.bandwidth()).attr("height",s.bandwidth()).style("fill",l=>h(l.value)).on("mouseover",(l,c)=>p(l,c)).on("mousemove",(l,c)=>w(l,c)).on("mouseleave",l=>v())}function o(){let r="	"+e.value.map(u=>u.station_name).join("	")+`
`;r+=e.value.map(u=>`${u.station_name}	${u.values.join("	")}`).join(`
`),navigator.clipboard.writeText(r)}return V(()=>{window.removeEventListener("resize",n)}),(i,r)=>{const u=A,d=E;return J(),U(q,null,[b(u,{to:"/",title:"Go back to main page",class:"fixed top-3 left-3 text-xs"},{default:k(()=>[M("← Back")]),_:1}),b(d,{class:"fixed top-10 left-3 !w-[70px]",onClick:o},{default:k(()=>[M("Copy")]),_:1}),N("p",Z,G(W(a)),1),tt],64)}}});export{st as default};
